<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List App</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --danger-color: #dc3545;
            --light-color: #f8f9fa;
            --dark-color: #212529;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
        }
        
        .todo-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        
        .todo-header {
            border-bottom: 1px solid #eee;
        }
        
        .todo-item {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        
        .todo-item:hover {
            background-color: #f8f9fa;
        }
        
        .todo-item.completed {
            opacity: 0.7;
            border-left-color: var(--success-color);
        }
        
        .todo-item.completed .todo-text {
            text-decoration: line-through;
            color: var(--secondary-color);
        }
        
        .todo-actions .btn {
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .todo-item:hover .todo-actions .btn {
            opacity: 1;
        }
        
        .filter-active {
            font-weight: bold;
            color: var(--primary-color) !important;
        }
        
        .empty-state {
            display: none;
        }
        
        .todo-list:empty + .empty-state {
            display: block;
        }
    </style>
</head>
<body class="py-5">
    <div class="container">
        <div class="todo-container p-4">
            <!-- Header -->
            <div class="todo-header mb-4 pb-3">
                <h1 class="h2 text-center mb-3">To-Do List</h1>
                
                <!-- Add Task Form -->
                <form id="addTaskForm" class="row g-2">
                    <div class="col-md-9">
                        <input type="text" id="taskInput" class="form-control form-control-lg" placeholder="Add a new task..." required>
                    </div>
                    <div class="col-md-3">
                        <button type="submit" class="btn btn-primary btn-lg w-100">
                            <i class="fas fa-plus me-1"></i> Add
                        </button>
                    </div>
                </form>
                
                <!-- Filters -->
                <div class="d-flex justify-content-center mt-3">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-sm btn-outline-secondary filter-btn active" data-filter="all">All</button>
                        <button type="button" class="btn btn-sm btn-outline-secondary filter-btn" data-filter="active">Active</button>
                        <button type="button" class="btn btn-sm btn-outline-secondary filter-btn" data-filter="completed">Completed</button>
                    </div>
                </div>
            </div>
            
            <!-- Task List -->
            <ul id="todoList" class="list-group todo-list mb-3"></ul>
            
            <!-- Empty State -->
            <div class="empty-state text-center py-5">
                <i class="fas fa-clipboard-list fa-4x text-muted mb-3"></i>
                <h4 class="text-muted">No tasks found</h4>
                <p class="text-muted">Add a new task to get started</p>
            </div>
            
            <!-- Stats -->
            <div class="d-flex justify-content-between align-items-center text-muted small">
                <span id="taskCount">0 tasks</span>
                <button id="clearCompleted" class="btn btn-sm btn-link text-danger">Clear completed</button>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const todoList = document.getElementById('todoList');
            const addTaskForm = document.getElementById('addTaskForm');
            const taskInput = document.getElementById('taskInput');
            const filterButtons = document.querySelectorAll('.filter-btn');
            const clearCompletedBtn = document.getElementById('clearCompleted');
            const taskCountElement = document.getElementById('taskCount');
            
            // Tasks array
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
            
            // Render tasks
            function renderTasks(filter = 'all') {
                todoList.innerHTML = '';
                
                let filteredTasks = tasks;
                if (filter === 'active') {
                    filteredTasks = tasks.filter(task => !task.completed);
                } else if (filter === 'completed') {
                    filteredTasks = tasks.filter(task => task.completed);
                }
                
                if (filteredTasks.length === 0) {
                    todoList.innerHTML = '';
                } else {
                    filteredTasks.forEach((task, index) => {
                        const li = document.createElement('li');
                        li.className = `list-group-item todo-item d-flex justify-content-between align-items-center ${task.completed ? 'completed' : ''}`;
                        li.dataset.id = task.id;
                        
                        li.innerHTML = `
                            <div class="form-check">
                                <input class="form-check-input complete-checkbox" type="checkbox" ${task.completed ? 'checked' : ''}>
                                <span class="todo-text">${task.text}</span>
                            </div>
                            <div class="todo-actions">
                                <button class="btn btn-sm btn-outline-danger delete-btn">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `;
                        
                        todoList.appendChild(li);
                    });
                }
                
                updateTaskCount();
                saveTasks();
            }
            
            // Add new task
            addTaskForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const taskText = taskInput.value.trim();
                if (taskText) {
                    const newTask = {
                        id: Date.now(),
                        text: taskText,
                        completed: false
                    };
                    
                    tasks.push(newTask);
                    taskInput.value = '';
                    renderTasks(getCurrentFilter());
                }
            });
            
            // Mark task as complete/incomplete
            todoList.addEventListener('change', function(e) {
                if (e.target.classList.contains('complete-checkbox')) {
                    const taskId = parseInt(e.target.closest('li').dataset.id);
                    const task = tasks.find(task => task.id === taskId);
                    
                    if (task) {
                        task.completed = e.target.checked;
                        renderTasks(getCurrentFilter());
                    }
                }
            });
            
            // Delete task
            todoList.addEventListener('click', function(e) {
                if (e.target.classList.contains('delete-btn') || e.target.closest('.delete-btn')) {
                    const taskId = parseInt(e.target.closest('li').dataset.id);
                    tasks = tasks.filter(task => task.id !== taskId);
                    renderTasks(getCurrentFilter());
                }
            });
            
            // Filter tasks
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    filterButtons.forEach(btn => btn.classList.remove('active', 'filter-active'));
                    this.classList.add('active', 'filter-active');
                    renderTasks(this.dataset.filter);
                });
            });
            
            // Clear completed tasks
            clearCompletedBtn.addEventListener('click', function() {
                tasks = tasks.filter(task => !task.completed);
                renderTasks(getCurrentFilter());
            });
            
            // Update task count
            function updateTaskCount() {
                const activeTasks = tasks.filter(task => !task.completed).length;
                const totalTasks = tasks.length;
                
                if (totalTasks === 0) {
                    taskCountElement.textContent = '0 tasks';
                } else {
                    taskCountElement.textContent = `${activeTasks} of ${totalTasks} tasks remaining`;
                }
            }
            
            // Get current filter
            function getCurrentFilter() {
                const activeFilter = document.querySelector('.filter-btn.filter-active');
                return activeFilter ? activeFilter.dataset.filter : 'all';
            }
            
            // Save tasks to localStorage
            function saveTasks() {
                localStorage.setItem('tasks', JSON.stringify(tasks));
            }
            
            // Initial render
            renderTasks();
        });
    </script>
</body>
</html>